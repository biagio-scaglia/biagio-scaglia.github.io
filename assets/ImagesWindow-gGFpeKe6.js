import{a as e,c as t,n,o as r,r as i,s as a,t as o}from"./index-BnXoWuTo.js";var s=t(a(),1),c=`/assets/sfondo%20video-BYRrPaXp.mp4`,l=t(r(),1),u={"../assets/sfondo/img0 (Starter).jpg":()=>o(()=>import(`./img0 (Starter)-BYSp_dbY.js`),[]),"../assets/sfondo/img0.jpg":()=>o(()=>import(`./img0-Bqz-HOLC.js`),[]),"../assets/sfondo/img1.jpg":()=>o(()=>import(`./img1-P3M_CYwi.js`),[]),"../assets/sfondo/img10.jpg":()=>o(()=>import(`./img10-BMuhP5PB.js`),[]),"../assets/sfondo/img11.jpg":()=>o(()=>import(`./img11-BM3qPPRU.js`),[]),"../assets/sfondo/img12.jpg":()=>o(()=>import(`./img12-CNg0rcu2.js`),[]),"../assets/sfondo/img13.jpg":()=>o(()=>import(`./img13-51X_t0_a.js`),[]),"../assets/sfondo/img14.jpg":()=>o(()=>import(`./img14-CDuoFY4F.js`),[]),"../assets/sfondo/img15.jpg":()=>o(()=>import(`./img15-5rJucvsd.js`),[]),"../assets/sfondo/img16.jpg":()=>o(()=>import(`./img16-BerD7IOF.js`),[]),"../assets/sfondo/img17.jpg":()=>o(()=>import(`./img17-9zI1ikk9.js`),[]),"../assets/sfondo/img18.jpg":()=>o(()=>import(`./img18-Bh_kmFZl.js`),[]),"../assets/sfondo/img19.jpg":()=>o(()=>import(`./img19-BfXOEp2F.js`),[]),"../assets/sfondo/img2.jpg":()=>o(()=>import(`./img2-DNwNB1gK.js`),[]),"../assets/sfondo/img20.jpg":()=>o(()=>import(`./img20-Bl_nvSMo.js`),[]),"../assets/sfondo/img21.jpg":()=>o(()=>import(`./img21-VCCouIfP.js`),[]),"../assets/sfondo/img22.jpg":()=>o(()=>import(`./img22-Cji7_08e.js`),[]),"../assets/sfondo/img23.jpg":()=>o(()=>import(`./img23-BZBtCzMJ.js`),[]),"../assets/sfondo/img24.jpg":()=>o(()=>import(`./img24-vNWrQsP3.js`),[]),"../assets/sfondo/img25.jpg":()=>o(()=>import(`./img25-DUUQRBLh.js`),[]),"../assets/sfondo/img26.jpg":()=>o(()=>import(`./img26-DvwconxA.js`),[]),"../assets/sfondo/img27.jpg":()=>o(()=>import(`./img27-CHn3CGXH.js`),[]),"../assets/sfondo/img28.jpg":()=>o(()=>import(`./img28-GcFmW8e3.js`),[]),"../assets/sfondo/img29.jpg":()=>o(()=>import(`./img29-Dr9PZR6i.js`),[]),"../assets/sfondo/img3.jpg":()=>o(()=>import(`./img3-Etcn3PZg.js`),[]),"../assets/sfondo/img30.jpg":()=>o(()=>import(`./img30-CpqNm6KS.js`),[]),"../assets/sfondo/img4.jpg":()=>o(()=>import(`./img4-BTLATVdu.js`),[]),"../assets/sfondo/img5.jpg":()=>o(()=>import(`./img5-Dbjq9ZpN.js`),[]),"../assets/sfondo/img6.jpg":()=>o(()=>import(`./img6-B4V4P1kg.js`),[]),"../assets/sfondo/img7.jpg":()=>o(()=>import(`./img7-CfFc3EPc.js`),[]),"../assets/sfondo/img8.jpg":()=>o(()=>import(`./img8-DDH0-D1P.js`),[]),"../assets/sfondo/img9.jpg":()=>o(()=>import(`./img9-CD-oCNkI.js`),[])};function d({onClose:t,onBackgroundChange:r,currentBackground:a,isSlideshowEnabled:o=!1,slideshowIntervalSeconds:d=5,onSlideshowChange:f,onMinimize:p,icon:m}){let[h,g]=(0,s.useState)(window.innerWidth),[_,v]=(0,s.useState)(o),[y,b]=(0,s.useState)(d),[x,S]=(0,s.useState)({});(0,s.useEffect)(()=>{let e=()=>g(window.innerWidth);return window.addEventListener(`resize`,e),()=>window.removeEventListener(`resize`,e)},[]);let[C,w]=(0,s.useState)([{name:`Sfondo Default`,url:n,type:`image`},{name:`Sfondo Video Animato`,url:c,type:`video`}]),T=(0,s.useRef)({});(0,s.useEffect)(()=>{Object.entries(u).map(([e,t])=>{let n=e.split(`/`).pop()?.replace(`.jpg`,``)||``,r=n.match(/\d+/);return{path:e,loader:t,name:n,num:r?parseInt(r[0]):999}}).filter(e=>!e.name.toLowerCase().includes(`starter`)).sort((e,t)=>e.num===t.num?e.name.localeCompare(t.name):e.num-t.num).slice(0,5).forEach(async e=>{try{let t=await e.loader();w(n=>n.find(t=>t.name===`Sfondo ${e.name}`)?n:[...n,{name:`Sfondo ${e.name}`,url:t.default,type:`image`}])}catch(t){console.warn(`Failed to load background: ${e.path}`,t)}})},[]),(0,s.useEffect)(()=>{let e=setTimeout(async()=>{let e=Object.entries(u).map(([e,t])=>{let n=e.split(`/`).pop()?.replace(`.jpg`,``)||``,r=n.match(/\d+/);return{path:e,loader:t,name:n,num:r?parseInt(r[0]):999}}).filter(e=>!e.name.toLowerCase().includes(`starter`)).sort((e,t)=>e.num===t.num?e.name.localeCompare(t.name):e.num-t.num);for(let t of e.slice(5))try{let e=await t.loader();w(n=>n.find(e=>e.name===`Sfondo ${t.name}`)?n:[...n,{name:`Sfondo ${t.name}`,url:e.default,type:`image`}])}catch(e){console.warn(`Failed to load background: ${t.path}`,e)}},1e3);return()=>clearTimeout(e)},[]);let[E,D]=(0,s.useState)(0);return(0,s.useEffect)(()=>{let e=C.findIndex(e=>e.url===a);e>=0&&D(e)},[a,C]),(0,s.useEffect)(()=>{v(o),b(d)},[o,d]),(0,l.jsx)(e,{title:`Immagini - Cambio Sfondo`,width:700,height:500,defaultPosition:{x:150,y:100},onClose:t,onMinimize:p,icon:m,children:(0,l.jsxs)(`div`,{style:{padding:h<=480?`15px`:`20px`},children:[(0,l.jsx)(`h2`,{style:{marginTop:0,fontSize:h<=480?`16px`:`18px`,marginBottom:h<=480?`15px`:`20px`},children:`Scegli uno sfondo`}),(0,l.jsx)(`div`,{style:{display:`grid`,gridTemplateColumns:h<=480?`repeat(2, 1fr)`:h<=768?`repeat(3, 1fr)`:`repeat(auto-fill, minmax(150px, 1fr))`,gap:h<=480?`10px`:`16px`,marginBottom:h<=480?`15px`:`20px`},children:C.map((e,t)=>(0,l.jsxs)(`div`,{onClick:()=>D(t),style:{aspectRatio:`4/3`,background:e.type===`image`&&!e.url.startsWith(`linear-gradient`)?`url(${e.url})`:e.url.startsWith(`linear-gradient`)?e.url:`#000`,backgroundSize:`cover`,backgroundPosition:`center`,border:E===t?`3px solid #0078d4`:`2px solid #c0c0c0`,cursor:`pointer`,position:`relative`,transition:`all 0.2s`,overflow:`hidden`},onMouseEnter:n=>{if(E!==t&&(n.currentTarget.style.borderColor=`#0078d4`),e.type===`video`&&T.current[t]){let e=T.current[t];e&&(e.currentTime=0,e.play().catch(()=>{}))}},onMouseLeave:n=>{if(E!==t&&(n.currentTarget.style.borderColor=`#c0c0c0`),e.type===`video`&&T.current[t]){let e=T.current[t];e&&(e.pause(),e.currentTime=0)}},children:[e.type===`video`?(0,l.jsx)(`video`,{ref:e=>{e&&(T.current[t]=e)},src:e.url,muted:!0,loop:!0,playsInline:!0,style:{width:`100%`,height:`100%`,objectFit:`cover`,display:`block`},onMouseEnter:e=>{let t=e.currentTarget;t.currentTime=0,t.play().catch(()=>{})},onMouseLeave:e=>{let t=e.currentTarget;t.pause(),t.currentTime=0}}):(0,l.jsxs)(l.Fragment,{children:[x[e.url]&&!e.url.startsWith(`linear-gradient`)&&(0,l.jsx)(`div`,{style:{position:`absolute`,top:`50%`,left:`50%`,transform:`translate(-50%, -50%)`,zIndex:1},children:(0,l.jsx)(i,{size:32})}),(0,l.jsx)(`img`,{src:e.url.startsWith(`linear-gradient`)?void 0:e.url,alt:e.name,loading:`lazy`,style:{width:`100%`,height:`100%`,objectFit:`cover`,display:e.url.startsWith(`linear-gradient`)||x[e.url]?`none`:`block`},onLoadStart:()=>{e.url.startsWith(`linear-gradient`)||S(t=>({...t,[e.url]:!0}))},onLoad:()=>{e.url.startsWith(`linear-gradient`)||S(t=>({...t,[e.url]:!1}))},onError:()=>{e.url.startsWith(`linear-gradient`)||S(t=>({...t,[e.url]:!1}))}})]}),(0,l.jsxs)(`div`,{style:{position:`absolute`,bottom:0,left:0,right:0,background:`rgba(0, 0, 0, 0.6)`,color:`#fff`,padding:h<=480?`4px`:`6px`,fontSize:h<=480?`10px`:`11px`,textAlign:`center`,display:`flex`,alignItems:`center`,justifyContent:`center`,gap:`6px`},children:[e.type===`video`&&(0,l.jsx)(`i`,{className:`fas fa-video`,style:{fontSize:h<=480?`9px`:`10px`}}),(0,l.jsx)(`span`,{children:e.name})]}),E===t&&(0,l.jsx)(`div`,{style:{position:`absolute`,top:h<=480?`6px`:`8px`,right:h<=480?`6px`:`8px`,background:`#0078d4`,borderRadius:`50%`,width:h<=480?`20px`:`24px`,height:h<=480?`20px`:`24px`,display:`flex`,alignItems:`center`,justifyContent:`center`,color:`#fff`},children:(0,l.jsx)(`i`,{className:`fas fa-check`,style:{fontSize:h<=480?`10px`:`12px`}})})]},t))}),(0,l.jsxs)(`div`,{style:{marginBottom:h<=480?`15px`:`20px`,padding:h<=480?`12px`:`16px`,background:`#f5f5f5`,borderRadius:`4px`,border:`1px solid #ddd`},children:[(0,l.jsx)(`h3`,{style:{marginTop:0,marginBottom:h<=480?`12px`:`16px`,fontSize:h<=480?`14px`:`16px`},children:`Slideshow Sfondi`}),(0,l.jsxs)(`div`,{style:{marginBottom:h<=480?`10px`:`12px`,display:`flex`,alignItems:`center`,gap:`10px`},children:[(0,l.jsx)(`input`,{type:`checkbox`,id:`slideshow-enabled`,checked:_,onChange:e=>v(e.target.checked),style:{width:`18px`,height:`18px`,cursor:`pointer`}}),(0,l.jsx)(`label`,{htmlFor:`slideshow-enabled`,style:{fontSize:h<=480?`12px`:`13px`,cursor:`pointer`},children:`Attiva slideshow automatico`})]}),_&&(0,l.jsxs)(`div`,{style:{marginTop:h<=480?`10px`:`12px`},children:[(0,l.jsxs)(`label`,{htmlFor:`slideshow-seconds`,style:{display:`block`,marginBottom:`6px`,fontSize:h<=480?`12px`:`13px`},children:[`Secondi tra le immagini: `,y]}),(0,l.jsx)(`input`,{type:`range`,id:`slideshow-seconds`,min:`2`,max:`30`,value:y,onChange:e=>b(parseInt(e.target.value)),style:{width:`100%`,cursor:`pointer`}}),(0,l.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,fontSize:h<=480?`10px`:`11px`,color:`#666`,marginTop:`4px`},children:[(0,l.jsx)(`span`,{children:`2s`}),(0,l.jsx)(`span`,{children:`30s`})]})]})]}),(0,l.jsxs)(`div`,{style:{display:`flex`,gap:h<=480?`8px`:`12px`,justifyContent:`flex-end`,flexWrap:`wrap`},children:[(0,l.jsx)(`button`,{onClick:t,style:{fontSize:h<=480?`12px`:`14px`,padding:h<=480?`8px 16px`:`10px 20px`},children:`Annulla`}),(0,l.jsx)(`button`,{onClick:()=>{if(E>=0&&E<C.length){let e=C[E];r(e.url,e.type)}f&&f(_,y),t()},style:{fontSize:h<=480?`12px`:`14px`,padding:h<=480?`8px 16px`:`10px 20px`},children:`Applica`})]})]})})}export{d as default};